<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Band Tijdschema</title>
  <style>
    * { box-sizing: border-box; }
    html, body {
      margin: 0;
      height: 100%;
      font-family: sans-serif;
    }

    .schedule-wrapper {
      display: flex;
      height: 100vh;
      overflow: hidden;
	  background-color: #000;
    }

    .y-axis {
      position: sticky;
      left: 0;
      top: 0;
      z-index: 10;
      background: #fff;
      border-right: 1px solid #555;
    }

    .y-header {
      height: 41px;
      width: 120px;
      background: #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      border-bottom: 1px solid #555;
    }

    .stage-label {
      /*height: 60px;*/
      /*height: 80px;*/
      width: 120px;
      display: flex;
      /*align-items: center;*/
      /*justify-content: center;*/
      /*border-bottom: 1px solid #eee;*/
      /*background: red;*/
      position: sticky;
      left: 10px;
	  color: #fff;
	  overflow: visible;
      white-space: nowrap;
	  margin-top: 20px;
    }

    .timeline-container {
      overflow: auto;
      width: 100%;
      height: 100%;
	  z-index: 2;
    }

    .timeline {
      min-width: 1440px;
      position: relative;
    }

    .x-header {
      display: flex;
      position: sticky;
      top: 0;
      z-index: 5;
      background: #f9f9f999;
      border-bottom: 1px solid #555;
    }

	.x-cell {
	  height: 40px;
	  text-align: center;
	  line-height: 40px;
	  font-size: 12px;
	  flex-shrink: 0;
	}
	.x-cell.maincell {
		/*background: red;*/
		position: sticky;
		left: 0;
	}
	.x-cell.label {
	  font-weight: bold;
	  /*border-right: 1px solid #555;*/
	}	
	
    .x-cell:nth-child(12n+1) {
      width: 60px;
      /*border-right: 1px solid #555;*/
      /*background: #f0f0f0;*/
    }

    .row {
      display: flex;
      position: relative;
    }

	.block {
	  /*height: 60px;*/
      height: 100px;
	  flex-shrink: 0;
	  z-index: -9;
	}
	.even {
	  background-color: #19160a;
	}
	
	/*.block.thirty-minute {
	  border-right: 1px solid #555;
	}*/
	
    .block:nth-child(6n+1) {
      width: 60px;
      /*background: #f9f9f9;*/
      border-right: 1px solid #555;
	  z-index: -9;
    }
    .first-block {
      border-left: 1px solid #555;
    }

    .band {
      position: absolute;
      height: 50px;
      background: #e0a200;
      /*color: #fff;*/
      /*border-radius: 4px;*/
      /*padding: 4px;*/
      font-size: 12px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    @media (max-width: 600px) {
      .x-cell:nth-child(6n+1) {
        width: 40px;
      }

      .block:nth-child(6n+1) {
        width: 40px;
		z-index: -9;
      }
    }
  </style>
</head>
<body>
  <div class="schedule-wrapper">
    <div class="timeline-container">
      <div class="timeline">
        <div class="x-header" id="x-header"></div>
        <div id="rows"></div>
      </div>
    </div>
  </div>

  <script>
    const startHour = 10;
    const endHour = 22;
    //const stages = ["Main Stage1", "Second Stage1", "DJ Stage1", "Main Stage2", "Second Stage2", "DJ Stage2", "Main Stage3", "Second Stage3", "DJ Stage3", "Main Stage4", "Second Stage4", "DJ Stage4", "Main Stage5", "Second Stage5", "DJ Stage5", "Main Stage6", "Second Stage6", "DJ Stage6"];
	const stages = [
	  { name: "Main Stage1", color: "#e74c3c" },
	  { name: "Second Stage1", color: "#2980b9" },
	  { name: "DJ Stage1", color: "#27ae60" },
	  { name: "Main Stage2", color: "#c0392b" },
	  { name: "Second Stage2", color: "#8e44ad" },
	  { name: "DJ Stage2", color: "#16a085" },
	  { name: "Main Stage3", color: "#f39c12" },
	  { name: "Second Stage3", color: "#d35400" },
	  { name: "DJ Stage3", color: "#2c3e50" },
	  { name: "Main Stage4", color: "#1abc9c" },
	  { name: "Second Stage4", color: "#9b59b6" },
	  { name: "DJ Stage4", color: "#34495e" },
	  { name: "Main Stage5", color: "#e67e22" },
	  { name: "Second Stage5", color: "#7f8c8d" },
	  { name: "DJ Stage5", color: "#2ecc71" },
	  { name: "Main Stage6", color: "#ff6f61" },
	  { name: "Second Stage6", color: "#6c5ce7" },
	  { name: "DJ Stage6", color: "#00cec9" }
	];

	const bands = [
      { stage: "Main Stage1", name: "Band A", start: "10:55", duration: 45 },
      { stage: "Main Stage1", name: "Band B", start: "14:10", duration: 90 },
      { stage: "Second Stage1", name: "DJ Y", start: "12:00", duration: 30 },
      { stage: "Second Stage1", name: "Band Z", start: "13:45", duration: 55 },
      { stage: "DJ Stage1", name: "Techno M", start: "20:15", duration: 75 },
      { stage: "Main Stage2", name: "Band A", start: "10:55", duration: 45 },
      { stage: "Main Stage2", name: "Band B", start: "14:10", duration: 90 },
      { stage: "Second Stage2", name: "DJ Y", start: "12:00", duration: 30 },
      { stage: "Second Stage2", name: "Band Z", start: "13:45", duration: 55 },
      { stage: "DJ Stage2", name: "Techno M", start: "20:15", duration: 75 },
      { stage: "Main Stage3", name: "Band A", start: "10:55", duration: 45 },
      { stage: "Main Stage3", name: "Band B", start: "14:10", duration: 90 },
      { stage: "Second Stage3", name: "DJ Y", start: "12:00", duration: 30 },
      { stage: "Second Stage3", name: "Band Z", start: "13:45", duration: 55 },
      { stage: "DJ Stage3", name: "Techno M", start: "20:15", duration: 75 },
      { stage: "Main Stage4", name: "Band A", start: "10:55", duration: 45 },
      { stage: "Main Stage4", name: "Band B", start: "14:10", duration: 90 },
      { stage: "Second Stage4", name: "DJ Y", start: "12:00", duration: 30 },
      { stage: "Second Stage4", name: "Band Z", start: "13:45", duration: 55 },
      { stage: "DJ Stage4", name: "Techno M", start: "20:15", duration: 75 },
      { stage: "Main Stage5", name: "Band A", start: "10:55", duration: 45 },
      { stage: "Main Stage5", name: "Band B", start: "14:10", duration: 90 },
      { stage: "Second Stage5", name: "DJ Y", start: "12:00", duration: 30 },
      { stage: "Second Stage5", name: "Band Z", start: "13:45", duration: 55 },
      { stage: "DJ Stage5", name: "Techno M", start: "20:15", duration: 75 },
      { stage: "Main Stage6", name: "Band A", start: "10:55", duration: 45 },
      { stage: "Main Stage6", name: "Band B", start: "14:10", duration: 90 },
      { stage: "Second Stage6", name: "DJ Y", start: "12:00", duration: 30 },
      { stage: "Second Stage6", name: "Band Z", start: "13:45", duration: 55 },
      { stage: "DJ Stage6", name: "Techno M", start: "20:15", duration: 75 }
    ];

    const pixelsPerMinute = 3;
	const firstColumnWidth = pixelsPerMinute * 5 * 6;
    const timeSlots = ((endHour - startHour) * 60) / 5;

    const xHeader = document.getElementById("x-header");
	xHeader.style.width = `${(pixelsPerMinute * timeSlots * 5) + firstColumnWidth}px`;
	for (let i = 0; i < timeSlots; i++) {
	  if (i == 0)
		{
		  const maincell = document.createElement("div");
		  maincell.className = "x-cell maincell";
		  //maincell.textContent = "Podia";
		  //maincell.style.width = `${firstColumnWidth}px`;
		  maincell.style.width = `${firstColumnWidth-15}px`; // to center the time on the line
		  xHeader.appendChild(maincell);
		}

	  const cell = document.createElement("div");
	  cell.className = "x-cell";
	  cell.style.width = `${pixelsPerMinute * 5}px`;

	  const minutes = startHour * 60 + i * 5;
	  const hour = Math.floor(minutes / 60);
	  const min = minutes % 60;

	  if (min === 0) {
		cell.textContent = `${hour.toString().padStart(2, '0')}:00`;
		cell.classList.add("label");
	  }

	  xHeader.appendChild(cell);
	}

    const stageLabels = document.getElementById("stage-labels");
    const rows = document.getElementById("rows");
	rows.style.width = `${(pixelsPerMinute * timeSlots * 5) + firstColumnWidth}px`;
	const xHeaderHeight = 40;

    //stages.forEach((stage, index) => {
    stages.forEach((stageObj, index) => {
	  const stage = stageObj.name;
	  const stageColor = stageObj.color;
	  const label = document.createElement("div");
	  label.style.color = stageColor;
      label.className = "stage-label";
      label.textContent = stage;
	  label.style.minWidth = `${firstColumnWidth}px`;
      //stageLabels.appendChild(label);

      const row = document.createElement("div");
      row.className = "row";

	  for (let i = 0; i < timeSlots; i++) {
		  const block = document.createElement("div");
		  block.className = "block";
		  block.style.width = `${pixelsPerMinute * 5}px`;
		  if (i == 0)
		  {
			row.appendChild(label);
			block.className = "block first-block";
		  }

		  const minutes = startHour * 60 + i * 5;
		  const hour = Math.floor(minutes / 60);
		  //const min = minutes % 60;

		  if (hour % 2 == 0) {
			block.className = "block even";
			if (i == 0)
			{
				block.className = "block even first-block";
			}
		  }

		  row.appendChild(block);
	  }

      bands.filter(b => b.stage === stage).forEach(band => {
        const [h, m] = band.start.split(":").map(Number);
        const startMin = (h - startHour) * 60 + m;
        //const left = startMin * pixelsPerMinute;
        //const left = startMin * pixelsPerMinute + (pixelsPerMinute * 5 * 6);
        const left = startMin * pixelsPerMinute + (firstColumnWidth);
        const width = band.duration * pixelsPerMinute;

        const bandDiv = document.createElement("div");
		bandDiv.style.backgroundColor = stageColor;
        bandDiv.className = "band";
        //bandDiv.textContent = band.name + '\n' + band.start;
		bandDiv.innerHTML = band.name + '<br>' + band.start; // Use innerHTML instead of textContent
        bandDiv.style.left = `${left}px`;
		const xHeaderHeight = 40;
		//bandDiv.style.top = `${xHeaderHeight + index * 60 + 5}px`;
        bandDiv.style.top = `${xHeaderHeight + index * 100 + 5 + 50}px`;
        bandDiv.style.width = `${width}px`;

        rows.appendChild(bandDiv);
      });

      rows.appendChild(row);
    });
  </script>
</body>
</html>